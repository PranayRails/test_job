<% path = @train_booking.new_record? ? train_bookings_path : train_booking_path(@train_booking) %>

<%= form_for(@train_booking, url: path, html: {:class => "form-horizontal center"}) do |f| %>
  <% if @train_booking.errors.any? %>
    <ul>
    <% @train_booking.errors.full_messages.each do |message| %>
      <li class="error-message"><%= message %></li>
    <% end %>
    </ul>
  <% end %>

  <div class="card container">
    <div class="card-body">
      <div class="table-responsive">
        <table class="table">
            <tr>
              <th scope="col">Parcels Count</th>
              <td><%#= @parcels.ids.count %></td>
            </tr>
            <tr>
              <th scope="col">Parcels Total Weight</th>
              <td><%#= Parcel.sum_weight(@parcels) %></td>
            </tr>
            <tr>
              <th scope="col">Parcels Total Volume</th>
              <td><%#= Parcel.sum_volume(@parcels) %></td>
            </tr>
        </table>
      </div>
      <%= render "trains", f: f %>
    </div>
  </div>
<% end %>
